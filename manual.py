import streamlit as st

def mostrar_manual():
    st.markdown("""""")
    st.markdown("""## ğŸ“˜ Manual - CÃ³mo usar esta herramienta""")
    st.markdown("""""")
    st.markdown("""### ğŸ“Š Â¿QuÃ© hace esta herramienta?""")
    st.markdown("""Esta calculadora de cuartiles utiliza el mÃ©todo `PERCENTIL.EXC` (como en Excel) para dividir mÃ©tricas numÃ©ricas en 4 grupos iguales. Permite:""")
    st.markdown("""- Calcular cuartiles de forma automÃ¡tica sobre distintos indicadores.""")
    st.markdown("""- Seleccionar **dos conjuntos de mÃ©tricas que se cuartilizan de manera distinta** ).""")
    st.markdown("""- Aplicar **cuartilizado inverso** para mÃ©tricas como NPS, SAT o Ventas.""")
    st.markdown("""- Agregar columnas con **intervalos numÃ©ricos** para interpretar mejor los valores.""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ§‘â€ğŸ’» Â¿CÃ³mo se utiliza?""")
    st.markdown("""""")
    st.markdown("""1. **Cargar el archivo Excel** exportado desde Power BI usando el botÃ³n **"ğŸ“‚ Browse files"**.""")
    st.markdown("""2. **Seleccionar uno o mÃ¡s identificadores**, como:""")
    st.markdown("""   - Asesor""")
    st.markdown("""   - LÃ­der""")
    st.markdown("""   - Llamadas""")
    st.markdown("""   Esto permitirÃ¡ mantener la relaciÃ³n con la persona o entidad analizada.""")
    st.markdown("""3. **Seleccionar el primer grupo de mÃ©tricas** (por ejemplo: TMO, TOL).""")
    st.markdown("""4. **Seleccionar el segundo grupo de mÃ©tricas** (opcional). Marcar el checkbox si esas mÃ©tricas deben tener cuartiles invertidos (ej: NPS, SAT, Ventas).""")
    st.markdown("""5. Presionar el botÃ³n **"ğŸ“ˆ Calcular cuartiles"**.""")
    st.markdown("""6. Descargar el resultado con **"ğŸ“¥ Descargar Excel calculado"**.""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ“ˆ Â¿QuÃ© hace el botÃ³n 'Calcular cuartiles'?""")
    st.markdown("""- Procesa cada grupo de mÃ©tricas y genera:""")
    st.markdown("""  - Columna `ğŸ”¢ _Cuartil`: indica Q1, Q2, Q3 o Q4.""")
    st.markdown("""  - Columna `ğŸ“ _Intervalo` (opcional): muestra el rango exacto al que pertenece cada valor.""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ“ Â¿CÃ³mo se calculan los cuartiles?""")
    st.markdown("""- Se usa el mÃ©todo `PERCENTIL.EXC` (como en Excel).""")
    st.markdown("""- El cÃ¡lculo divide los datos en cuartiles Q1 a Q4 excluyendo los extremos 0% y 100%.""")
    st.markdown("""- Si se activa el modo **invertido**, los valores altos quedan en Q1 y los bajos en Q4.""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ” Â¿QuÃ© significan los intervalos?""")
    st.markdown("""Los cuartiles se definen como:""")
    st.markdown("""""")
    st.markdown("""- **Q1 â†’** `[mÃ­n, P25)` â†’ 25% mÃ¡s bajo""")
    st.markdown("""- **Q2 â†’** `[P25, P50)`""")
    st.markdown("""- **Q3 â†’** `[P50, P75)`""")
    st.markdown("""- **Q4 â†’** `[P75, mÃ¡x]` â†’ 25% mÃ¡s alto""")
    st.markdown("""""")
    st.markdown("""Si se invierte el sentido, se intercambian los significados de Q1 y Q4.""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ“„ Â¿QuÃ© incluye el Excel exportado?""")
    st.markdown("""""")
    st.markdown("""1. **Hoja "Resultados"**:""")
    st.markdown("""   - Valores originales""")
    st.markdown("""   - Cuartiles calculados""")
    st.markdown("""   - Intervalos (si fueron activados)""")
    st.markdown("""""")
    st.markdown("""2. **Hoja "Intervalos"**:""")
    st.markdown("""   - Muestra los valores de P25, P50 y P75 para cada mÃ©trica""")
    st.markdown("""   - Ayuda a entender cÃ³mo se construyÃ³ cada cuartil""")
    st.markdown("""""")
    st.markdown("""---""")
    st.markdown("""""")
    st.markdown("""### ğŸ§  Ejemplo de configuraciÃ³n""")
    st.markdown("""""")
    st.markdown("""- **Grupo 1**: TMO, TOL (sin invertir)""")
    st.markdown("""- **Grupo 2**: NPS, SAT (invertido âœ…)""")
    st.markdown("""""")
    st.markdown("""Esto te permite:""")
    st.markdown("""- Comparar rendimiento en base a cuartiles""")
    st.markdown("""- Entender rangos de desempeÃ±o""")
    st.markdown("""- Aplicar filtros y generar reportes claros""")
    st.markdown("""""")
    st.markdown("""ğŸ’¡ RecordÃ¡ que las filas que comienzan con **"Total"** se ignoran automÃ¡ticamente en los cÃ¡lculos.""")
    st.markdown("""""")
